---
title: "Codex Setup Guide"
description: "Connect OpenAI Codex to Adspirer MCP for autonomous ad management across Google, Meta, LinkedIn, and TikTok Ads. AI agents that optimize daily."
---

Autonomous ad campaign management. Your AI agent runs campaigns while you sleep.

## What Makes Codex Different

Most AI tools are assistants. They answer questions. They generate copy. They analyze data when you ask.

Codex is autonomous. You define the goal — "check my ad performance every morning and flag anything unusual" — and the agent runs that task on a schedule. No human in the loop. It wakes up, pulls your campaign data, analyzes it, and sends you a summary. If your cost-per-acquisition spikes 40% overnight, you get an alert before you've had coffee.

When you connect Codex to Adspirer, you get 100+ advertising tools that run on a schedule. It's an AI ad manager that operates 24/7.

## Prerequisites

<Note>
- [OpenAI Codex CLI](https://github.com/openai/codex) installed and working
- [git](https://git-scm.com/) installed (used by the installer)
- An Adspirer account ([free to start](https://adspirer.ai/sign-up?utm_source=docs&utm_medium=page&utm_content=signup))
- At least one ad platform account: Google Ads, Meta Ads, LinkedIn Ads, or TikTok Ads
</Note>

## Quick Install (One Command)

Open your terminal and run:

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/amekala/ads-mcp/main/plugins/codex/adspirer/install.sh)
```

This automatically:
- Downloads all 5 Adspirer skills to `~/.agents/skills/`
- Installs the agent configuration to `~/.codex/agents/`
- Configures the Adspirer MCP server in `~/.codex/config.toml`
- Enables multi-agent and registers the agent role

Then restart Codex (close and reopen).

<Note>
The installer does not require authentication. You'll authenticate in the Getting Started steps below.
</Note>

## Getting Started

<Steps>
  <Step title="Verify the MCP Server is Registered">
    Before opening Codex, confirm the server is present:

    ```bash
    codex mcp list
    ```

    Look for `adspirer` in the output. It's normal for auth to show **Unsupported** at this point — that resolves after login.

    If `adspirer` is missing entirely, run:

    ```bash
    codex mcp add adspirer --url https://mcp.adspirer.com/mcp
    ```
  </Step>
  <Step title="Authenticate with Adspirer">
    ```bash
    codex mcp login adspirer
    ```

    A browser window will open. Sign in with your Adspirer account and authorize access. Return to your terminal when complete.

    Verify auth succeeded:

    ```bash
    codex mcp list
    ```

    `adspirer` should now show as **enabled**.
  </Step>
  <Step title="Open Your Brand Folder in Codex">
    ```bash
    cd ~/Clients/YourBrand
    codex
    ```

    Your brand folder can have docs (`.md`, `.txt`, `.csv`, `.yaml`, `.json`, `.pdf`) or be completely empty.
  </Step>
  <Step title="Set Up Your Brand Workspace">
    Say "set up my brand workspace". The agent will:
    1. Connect to your ad accounts
    2. Scan the folder for brand docs
    3. Pull live campaign data from all connected platforms
    4. Create `AGENTS.md` with your brand context, performance snapshot, and KPI targets
    5. Tell you what it found and ask what you'd like to work on

    If it doesn't trigger automatically, run:

    ```
    $adspirer-setup
    ```
  </Step>
  <Step title="Start Managing Campaigns">
    <Prompt description="Check campaign performance across all connected platforms." actions={["copy", "cursor"]}>
    How are my Google Ads campaigns doing?
    </Prompt>

    <Prompt description="Find wasted spend across all platforms with savings estimate." actions={["copy", "cursor"]}>
    Find wasted spend across all platforms
    </Prompt>

    <Prompt description="Write ad headlines from real keyword and performance data." actions={["copy", "cursor"]}>
    Write new headlines for my Google Search campaigns
    </Prompt>
  </Step>
</Steps>

<Check>
You're connected. Codex now has 100+ advertising tools available for autonomous and interactive use.
</Check>

## Manual Install (Alternative)

If you prefer to install manually instead of using the one-command script:

<Expandable title="Click to expand manual steps">

### Step 1: Clone the repo

```bash
git clone https://github.com/amekala/ads-mcp.git /tmp/ads-mcp
cd /tmp/ads-mcp/plugins/codex/adspirer
```

### Step 2: Install skills

```bash
mkdir -p ~/.agents/skills
cp -r skills/adspirer-ads ~/.agents/skills/
cp -r skills/adspirer-setup ~/.agents/skills/
cp -r skills/adspirer-performance-review ~/.agents/skills/
cp -r skills/adspirer-write-ad-copy ~/.agents/skills/
cp -r skills/adspirer-wasted-spend ~/.agents/skills/
```

### Step 3: Add the MCP server

```bash
codex mcp add adspirer --url https://mcp.adspirer.com/mcp
```

### Step 4: Install agent config

```bash
mkdir -p ~/.codex/agents
cp agents/performance-marketing-agent.toml ~/.codex/agents/
```

### Step 5: Update config.toml

Add to `~/.codex/config.toml`:

```toml
[features]
multi_agent = true

[agents.performance-marketing-agent]
description = "Brand-specific performance marketing agent. Use for ad campaigns, performance, keywords, ad copy, budgets."
config_file = "agents/performance-marketing-agent.toml"
```

### Step 6: Restart Codex

</Expandable>

## Available Skills

| Skill | Invocation | What it Does |
|-------|-----------|-------------|
| **Adspirer Ads** | `$adspirer-ads` or just ask naturally | Full campaign management — 100+ tools, all workflows, all platforms |
| **Setup** | `$adspirer-setup` | Bootstrap a brand workspace (first-time or refresh) |
| **Performance Review** | `$adspirer-performance-review` | Cross-platform performance scorecard |
| **Write Ad Copy** | `$adspirer-write-ad-copy Google Search` | Brand-voice ad copy from real data |
| **Wasted Spend** | `$adspirer-wasted-spend` | Find and fix wasted ad spend |

You don't need to remember skill names — just describe what you want and Codex will match the right skill automatically.

## What You Can Do

100+ tools across 4 ad platforms, available for autonomous or on-demand tasks:

| Platform | Tools | Key Capabilities |
|----------|-------|-----------------|
| **Google Ads** | 39 | Keyword research, Search & PMax campaigns, wasted spend detection, budget reallocation, search term analysis |
| **LinkedIn Ads** | 28 | B2B targeting (job titles, industries, company size), sponsored content, lead gen forms, performance analysis |
| **Meta Ads** | 20 | Image/video/carousel campaigns, creative fatigue detection, audience targeting, placement optimization |
| **TikTok Ads** | 4 | In-feed campaigns, asset validation, performance tracking |

## Autonomous Workflows (The Real Use Case)

Here's why people use Codex with Adspirer:

### Daily Performance Check-In

**Agent YAML default_prompt:**

```
"Pull yesterday's performance across all my ad platforms.
Compare to the previous 7-day average.
Flag any campaigns with CPA increases over 30% or spend increases over 50%.
Send me a summary."
```

Schedule this to run every morning at 8am. You wake up to a performance summary in your inbox or Slack. No dashboards to check.

### Weekly Wasted Spend Audit

**Agent YAML default_prompt:**

```
"Audit my Google Ads account for wasted spend in the last 7 days.
Find keywords with spend but zero conversions.
For each keyword, recommend: pause it, add a negative keyword, or lower the bid.
Total up potential monthly savings."
```

Run this every Monday. The agent finds money leaks and tells you exactly what to fix.

### Budget Rebalancing

**Agent YAML default_prompt:**

```
"Analyze performance across Google and Meta Ads for the last 30 days.
I have $10,000/month total budget.
Recommend how to split the budget for maximum conversions.
Show me current allocation vs recommended allocation."
```

Run this monthly. The agent analyzes cross-platform ROI and recommends where to shift spend.

### Anomaly Detection

**Agent YAML default_prompt:**

```
"Check all active campaigns across Google, Meta, LinkedIn, and TikTok.
Look for anomalies in the last 24 hours:
- Sudden CPA spikes
- Campaigns that stopped converting
- Unexpected spend increases
Alert me immediately if anything is found."
```

Run this every 6 hours. The agent acts as a 24/7 monitoring system. If something breaks at 3am, you get an alert.

## On-Demand Prompts (Non-Autonomous)

You can also run Codex with one-off prompts instead of the default task:

### Campaign Creation

```
codex run adspirer-ads "Create a Google PMax campaign for my DTC brand:
- Product: premium wireless earbuds, $129 retail price
- Target ROAS: 350%
- I have product images and videos ready
- Write asset group headlines and descriptions
- Use my Google Merchant Center feed"
```

### LinkedIn Lead Gen

```
codex run adspirer-ads "Launch a LinkedIn campaign targeting CTOs:
- Company size: 100-1,000 employees
- Industries: fintech, SaaS, cybersecurity
- Product: zero-trust security platform
- Budget: $150/day
- Goal: whitepaper downloads
- Image URL: [paste URL]"
```

### Cross-Platform Report

```
codex run adspirer-ads "Generate a Q1 2026 performance report.
Pull data from Google Ads, Meta Ads, and LinkedIn Ads.
Include: total spend, conversions, ROAS by platform.
Format as markdown."
```

## Safety Features (Critical for Autonomous Agents)

When an AI agent runs without human oversight, safety matters. Adspirer enforces these rules:

- **All campaigns created PAUSED:** Even in autonomous mode, campaigns don't launch until you manually approve them
- **No budget changes without confirmation:** The agent can analyze and recommend budget changes, but it can't execute them autonomously
- **Read-before-write workflows:** Skills force research and validation before any campaign creation
- **Connection status checks:** Agent verifies it's managing the correct account before taking any action
- **No automatic retries:** If a tool call fails, the agent reports the error instead of retrying blindly

Bottom line: Autonomous doesn't mean uncontrolled. The agent analyzes, recommends, and alerts — but you make the final spending decisions.

## Troubleshooting

| Problem | Solution |
|---------|----------|
| MCP server not found | Run `codex mcp add adspirer --url https://mcp.adspirer.com/mcp` and restart |
| MCP shows "Unsupported" | Run `codex mcp login adspirer` to complete OAuth authentication |
| Authentication failed | Run `codex mcp login adspirer` to re-authenticate |
| Install appears to hang | A browser window may have opened for OAuth — complete sign-in and return to terminal |
| No ad platforms connected | Connect platforms at [adspirer.com](https://www.adspirer.com) |
| Skills not showing | Verify: `ls ~/.agents/skills/` — should show `adspirer-*` directories |
| No data returned | Check for active campaigns. Try longer lookback (60/90 days) |
| Rate limit hit | Check Adspirer tier (Free: 10/mo, Plus: 50, Pro: 100, Enterprise: unlimited) |

## FAQ

<AccordionGroup>
<Accordion title="Can the agent actually spend money autonomously?">
No. All campaigns are created PAUSED, and budget changes require user confirmation. The agent can analyze, recommend, and alert — but you approve spending decisions manually.
</Accordion>
<Accordion title="What's the difference between Codex and Claude Code?">
[Claude Code](/ai-clients/claude-code) is interactive — you ask it to do something, it does it. Codex is autonomous — you define a task once, and it runs on a schedule. Use Claude Code for ad-hoc analysis. Use Codex for recurring tasks like daily performance checks.
</Accordion>
<Accordion title="How do I change the agent's default task?">
Edit the `default_prompt` in `~/.codex/agents/performance-marketing-agent.toml`. Restart the agent for changes to take effect.
</Accordion>
<Accordion title="Can I run multiple agents for different ad accounts?">
Yes. Create separate agent config files with different default prompts. Each agent can specify which Adspirer account to use via the `switch_primary_account` tool.
</Accordion>
<Accordion title="How much does this cost?">
Adspirer pricing is based on tool calls. Free tier: 10 calls/month. Plus: $25/mo for 50 calls. Pro: $75/mo for 100 calls. Autonomous agents typically use 2-5 tool calls per run. See [full pricing details](https://www.adspirer.com/pricing?utm_source=docs&utm_medium=page&utm_content=pricing).
</Accordion>
</AccordionGroup>

## Related Documentation

- [Claude Code Setup Guide](/ai-clients/claude-code)
- [Cursor Setup Guide](/ai-clients/cursor)
- [Google Ads Integration](/ad-platforms/google-ads)
- [Pricing & Plans](https://www.adspirer.com/pricing?utm_source=docs&utm_medium=page&utm_content=pricing)
- [All Documentation](/introduction)
